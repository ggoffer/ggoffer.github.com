(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{350:function(e,t,n){"use strict";n.r(t);n(29);var r={name:"CategoryFilter",props:{categories:{type:Array,default:[{name:"movies",counts:20},{name:"sports",counts:120}]}},data:function(){return{selectedCats:[""]}},methods:{}},c=n(5),l=n(25),o=n.n(l),h=n(337),d=n(347),component=Object(c.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{fluid:""}},[n("h3",{staticClass:"mb-2"},[e._v("Filter by categories")]),e._l(e.categories,(function(t,r){return n("v-chip",{key:t.name,staticClass:"ma-1",attrs:{color:"primary"},on:{click:function(n){return e.$emit("category-select",t)}}},[e._v(e._s(t.name)+" ("+e._s(t.counts)+")")])}))],2)}),[],!1,null,null,null),v=component.exports;o()(component,{VChip:h.a,VContainer:d.a});var f={name:"CategorySelected",props:{categories:{type:Array,default:[]}},data:function(){return{}},methods:{}},m=n(366),C=n(338),y=Object(c.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.categories.length>0?n("v-row",[n("v-col",[n("strong",[e._v("Showing channels under categories: ")]),e._l(e.categories,(function(t,r){return n("v-chip",{key:r,attrs:{color:"success",close:""},on:{"click:close":function(n){return e.$emit("remove-selected-cat",t)}}},[e._v(e._s(t))])}))],2)],1):e._e()}),[],!1,null,null,null),_=y.exports;o()(y,{VChip:h.a,VCol:m.a,VRow:C.a});var w=n(384),P=n(385),k={name:"SectionChannelsList",components:{"category-filter":v,"category-selected":_,"channel-card":w.a,"channel-search":P.a},data:function(){return{channels:null,queryStr:"*:*",categories:[],selectedCats:[],currentPage:1,perPage:12,totalPages:0,totalVisible:7}},methods:{getInitialChannels:function(){this.queryChannels(0)},queryChannels:function(e){var t=this,n={query:t.queryStr,start:e,rows:t.perPage};t.selectedCats.length>0&&(n.cats=t.selectedCats),t.$axios.get("/channel",{params:n}).then((function(e){t.channels=e.data.docs,t.categories=e.data.cats,t.totalHits=e.data.numFound,t.totalPages=Math.ceil(t.totalHits/t.perPage)}))},flipPage:function(){this.queryChannels((this.currentPage-1)*this.perPage)},handleCategorySelect:function(e){this.selectedCats.push(e.name),this.currentPage=1,this.queryChannels(0)},handleRemoveSelectedCat:function(e){this.selectedCats=this.selectedCats.filter((function(t){return t!==e})),this.currentPage=1,this.queryChannels(0)},handleSearchChannel:function(e){this.queryStr=e,this.currentPage=1,this.queryChannels(0)},channelLogo:function(e){this.$axios.get("/channel/".concat(e,"/logo")).then((function(e){return e.data}))}},computed:{paginationSummary:function(){var e=(this.currentPage-1)*this.perPage+1,t=this.currentPage===this.totalPages?this.totalHits:this.currentPage*this.perPage;return"".concat(e," - ").concat(t," of ").concat(this.totalHits," Channels")}},beforeMount:function(){this.getInitialChannels()}},x=n(325),V=n(457),S=n(133),$=n(398),j=Object(c.a)(k,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("store-base-section",{attrs:{id:"channelslist"}},[n("store-base-section-heading",{attrs:{title:"Channels list",space:"1"}}),n("v-container",[n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{cols:"3"}},[n("channel-search",{on:{"search-channel":e.handleSearchChannel}}),n("category-filter",{attrs:{categories:e.categories},on:{"category-select":e.handleCategorySelect}})],1),n("v-col",{attrs:{cols:"9"}},[n("category-selected",{attrs:{categories:e.selectedCats},on:{"remove-selected-cat":e.handleRemoveSelectedCat}}),n("v-row",[n("v-col",{staticClass:"pa-0"},[n("v-btn",{attrs:{text:"",color:"primary",large:""}},[e._v(e._s(e.paginationSummary))])],1),n("v-spacer"),n("v-col",{staticClass:"pa-0"},[e.channels?n("v-pagination",{attrs:{length:e.totalPages,"total-visible":e.totalVisible,circle:""},on:{input:e.flipPage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}}):e._e()],1)],1),n("v-row",[e._l(e.channels,(function(t,r){return[n("v-col",{key:t.id},[n("channel-card",{attrs:{channel:t}})],1),(r+1)%2==0?n("v-responsive",{key:"width-"+r,attrs:{width:"100%"}}):e._e()]}))],2),e.channels?n("v-pagination",{attrs:{length:e.totalPages,"total-visible":"10"},on:{input:e.flipPage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}}):e._e()],1)],1)],1)],1)}),[],!1,null,null,null);t.default=j.exports;o()(j,{VBtn:x.a,VCol:m.a,VContainer:d.a,VPagination:V.a,VResponsive:S.a,VRow:C.a,VSpacer:$.a})},384:function(e,t,n){"use strict";var r={name:"ChannelCard",props:{channel:{type:Object,default:{id:"1234sdis12",tvg_name:"channel name"}},watchNow:{type:Boolean,default:!1}},data:function(){return{}}},c=n(5),l=n(25),o=n.n(l),h=n(325),d=n(349),v=n(343),f=n(132),component=Object(c.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"pa-1",attrs:{nocolor:"#1F7087",color:"#385F73",dark:""}},[n("div",{staticClass:"d-flex flex-no-wrap justify-space-between"},[n("div",[n("v-card-title",{staticClass:"headline"},[e._v(e._s(e.channel.tvg_name))]),e.watchNow?n("v-card-text",[n("store-base-async-excerpt",{attrs:{articleId:e.channel.id}})],1):e._e(),e.watchNow?n("v-card-actions",[n("v-btn",{attrs:{href:e.channel.url,color:"warning"}},[e._v("Watch Now"),n("v-icon",{attrs:{right:""}},[e._v("mdi-video")])],1)],1):e._e()],1),n("store-base-async-img",{attrs:{imageId:e.channel.id,width:"150px","max-width":"150px",contain:""}})],1)])}),[],!1,null,null,null);t.a=component.exports;o()(component,{VBtn:h.a,VCard:d.a,VCardActions:v.a,VCardText:v.b,VCardTitle:v.c,VIcon:f.a})},385:function(e,t,n){"use strict";var r={name:"ChannelSearch",props:{},data:function(){return{query:null}},methods:{handleClickAppend:function(){var e="*:*";null!==this.query&&this.query.length>0&&(e=this.query),this.$emit("search-channel",e)}}},c=n(5),l=n(25),o=n.n(l),h=n(347),d=n(458),component=Object(c.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-text-field",{attrs:{outlined:"",id:"input-number",autocomplete:"off",label:"Search channels",clearable:"","append-icon":"mdi-magnify"},on:{"click:clear":function(t){return e.$emit("search-channel","*:*")},"click:append":e.handleClickAppend,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleClickAppend(t)}},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}})],1)}),[],!1,null,null,null);t.a=component.exports;o()(component,{VContainer:h.a,VTextField:d.a})}}]);